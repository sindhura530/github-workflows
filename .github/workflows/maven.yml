name: Java CI with Maven

on: workflow_call

jobs:
  build1:
    if: "contains(javaVersion, '11')"
    runs-on: ubuntu-latest
    container: 
      image: openjdk:11

    steps:
    - name: Check-out project
      uses: actions/checkout@v1
    - name: install dependencies
      run: |
          mkdir artifact 
          cd artifact
          echo " mvn --batch-mode --update-snapshots package" > target.jar
          cd ..
    - name: upload artifact
      uses: actions/upload-artifact@v3
      with:
          name: artifact1
          path: ./
          
          
  build2:
    if: "contains(javaVersion, '12')"
    runs-on: ubuntu-latest
    container: 
      image: openjdk:12

    steps:
    - name: Check-out project
      uses: actions/checkout@v1
    - name: install dependencies
      run: |
          mkdir artifact 
          cd artifact
          echo " mvn --batch-mode --update-snapshots package" > target.jar
          cd ..
    - name: upload artifact
      uses: actions/upload-artifact@v3
      with:
          name: artifact2
          path: ./
